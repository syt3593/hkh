{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/files/hkh/types.ts"],"sourcesContent":["\r\nexport interface Nutrients {\r\n  calories: number;\r\n  protein: number;\r\n  carbs: number;\r\n  fat: number;\r\n  fiber: number;\r\n  sugar: number;\r\n}\r\n\r\nexport interface FoodItem {\r\n  id: string;\r\n  name: string;\r\n  estimatedWeightGrams: number; // å½“å‰æ•°å€¼ï¼ˆç”¨æˆ·å¯èƒ½ä¿®æ”¹è¿‡ï¼‰\r\n  originalWeightGrams: number;  // AI åˆå§‹æ•°å€¼ï¼ˆç”¨äºè®¡ç®—åå·®ï¼‰\r\n  nutrients: Nutrients;\r\n  consumedPercentage: number; // 0-100\r\n}\r\n\r\nexport interface FoodScan {\r\n  id: string;\r\n  timestamp: number;\r\n  imageUrl: string;\r\n  description: string;\r\n  insight: string; \r\n  items: FoodItem[];\r\n  globalScale: number; // 0-100\r\n}\r\n\r\n// é‡ç‚¹æ ·æœ¬ï¼šåå·®è¶…è¿‡é˜ˆå€¼çš„è®°å½•\r\nexport interface CriticalSample {\r\n  id: string;\r\n  timestamp: number;\r\n  imageUrl: string;\r\n  foodName: string;\r\n  aiWeight: number;\r\n  userWeight: number;\r\n  deviationPercent: number; // e.g. +50% or -30%\r\n}\r\n\r\n// å¸¸é¤æ¨¡ç‰ˆï¼šç”¨æˆ·ä¿å­˜çš„å›ºå®šæ­é…\r\nexport interface StapleMeal {\r\n  id: string;\r\n  name: string;\r\n  imageUrl: string;\r\n  items: Omit<FoodItem, 'id'>[]; // å­˜å‚¨æ¨¡ç‰ˆæ—¶çš„ç»„æˆ\r\n  totalCalories: number;\r\n}\r\n\r\nexport enum AppState {\r\n  IDLE = 'IDLE',\r\n  CAMERA = 'CAMERA',\r\n  ANALYZING = 'ANALYZING',\r\n  RESULT = 'RESULT',\r\n  HISTORY = 'HISTORY',\r\n  CRITICAL_SAMPLES = 'CRITICAL_SAMPLES' // æ–°å¢çŠ¶æ€\r\n}\r\n"],"names":[],"mappings":";;;;AAiDO,IAAA,AAAK,kCAAA;;;;;;uDAM4B,OAAO;WANnC"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///D:/files/hkh/services/geminiService.ts"],"sourcesContent":["\r\nexport async function analyzeFoodImage(\r\n  base64Image: string, \r\n  additionalContext: string,\r\n  modelName: string = \"gemini-3-pro-preview\"\r\n): Promise<{\r\n  items: any[];\r\n  description: string;\r\n  insight: string;\r\n}> {\r\n  try {\r\n    const res = await fetch('/api/analyze', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ base64Image, additionalContext, modelName }),\r\n    })\r\n\r\n    const data = await res.json().catch(() => ({}))\r\n    if (!res.ok) {\r\n      throw new Error(data?.message || 'è¿æ¥ AI æœåŠ¡å¤±è´¥')\r\n    }\r\n    return data\r\n  } catch (error: any) {\r\n    console.error('Gemini API Error:', error)\r\n    throw new Error(error.message || 'è¿æ¥ AI æœåŠ¡å¤±è´¥')\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AACO,eAAe,iBACpB,WAAmB,EACnB,iBAAyB,EACzB,YAAoB,sBAAsB;IAM1C,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,gBAAgB;YACtC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAa;gBAAmB;YAAU;QACnE;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,IAAI,MAAM,MAAM,WAAW;QACnC;QACA,OAAO;IACT,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,qBAAqB;QACnC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;AACF"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///D:/files/hkh/components/NutrientBadge.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\n\r\ninterface NutrientBadgeProps {\r\n  label: string;\r\n  value: number;\r\n  unit: string;\r\n  color: string;\r\n  icon: React.ReactNode;\r\n}\r\n\r\nconst NutrientBadge: React.FC<NutrientBadgeProps> = ({ label, value, unit, color, icon }) => {\r\n  return (\r\n    <div className={`flex flex-col items-center p-3 rounded-2xl bg-white shadow-sm border border-gray-100`}>\r\n      <div className={`p-2 rounded-full mb-2 ${color} text-white`}>\r\n        {icon}\r\n      </div>\r\n      <span className=\"text-xs text-gray-500 font-medium uppercase tracking-wider\">{label}</span>\r\n      <div className=\"flex items-baseline gap-1 mt-1\">\r\n        <span className=\"text-xl font-bold text-gray-800\">{value.toFixed(1)}</span>\r\n        <span className=\"text-xs text-gray-400 font-medium\">{unit}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NutrientBadge;\r\n"],"names":[],"mappings":";;;;;;AAWA,MAAM,gBAA8C,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;IACtF,qBACE,8OAAC;QAAI,WAAW,CAAC,oFAAoF,CAAC;;0BACpG,8OAAC;gBAAI,WAAW,CAAC,sBAAsB,EAAE,MAAM,WAAW,CAAC;0BACxD;;;;;;0BAEH,8OAAC;gBAAK,WAAU;0BAA8D;;;;;;0BAC9E,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAmC,MAAM,OAAO,CAAC;;;;;;kCACjE,8OAAC;wBAAK,WAAU;kCAAqC;;;;;;;;;;;;;;;;;;AAI7D;uCAEe"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///D:/files/hkh/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { AppState, FoodScan, FoodItem, Nutrients, StapleMeal, CriticalSample } from '../types';\r\nimport { analyzeFoodImage } from '../services/geminiService';\r\nimport NutrientBadge from '../components/NutrientBadge';\r\n\r\nconst SpeechRecognition = typeof window !== 'undefined' ? ((window as any).SpeechRecognition || (window as any).webkitSpeechRecognition) : null;\r\n\r\nconst Icons = {\r\n  Camera: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z\" /></svg>,\r\n  Upload: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z\" /></svg>,\r\n  History: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\" /></svg>,\r\n  ArrowLeft: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\" /></svg>,\r\n  Calories: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.213 3.536 3.751 3.751 0 0 0 1.218 3.932Z\" /></svg>,\r\n  Protein: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z\" /></svg>,\r\n  Carbs: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 3v18m0-18l-3 3m3-3l3 3m-9 6h12M9 12l3 3m-3-3l3-3m-3 9h6\" /></svg>,\r\n  Fat: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 21a9.004 9.004 0 0 0 8.716-6.747c.224-.891.076-1.785-.417-2.46-.736-1.003-1.8-1.457-2.996-1.477l-1.042-.018c-1.291-.023-2.316-.902-2.316-2.195V4.75a.75.75 0 0 0-1.5 0v3.354c0 1.293-1.026 2.172-2.317 2.195l-1.042.018c-1.196.02-2.26.474-2.996 1.477-.493.675-.641 1.569-.417 2.46A9.004 9.004 0 0 0 12 21Z\" /></svg>,\r\n  XCircle: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\" /></svg>,\r\n  ChevronDown: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m19.5 8.25-7.5 7.5-7.5-7.5-7.5\" /></svg>,\r\n  ChevronUp: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m4.5 15.75 7.5-7.5 7.5 7.5\" /></svg>,\r\n  Microphone: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z\" /></svg>,\r\n  Sparkles: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09-3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l1.183.394-1.183.394a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z\" /></svg>,\r\n  Pencil: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-3 h-3\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\" /></svg>,\r\n  Heart: (props: any) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill={props.fill || \"none\"} viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z\" /></svg>,\r\n  Check: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m4.5 12.75 6 6 9-13.5\" /></svg>,\r\n  Sun: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M3 12h2.25m.386-6.364l1.591 1.591M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\" /></svg>,\r\n  Angle: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 19.5v-15m0 0l-3.75 3.75M12 4.5l3.75 3.75M4.5 12l7.5-7.5 7.5 7.5M4.5 15l7.5 7.5 7.5-7.5\" /></svg>,\r\n  Minus: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-3 h-3\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19.5 12h-15\" /></svg>,\r\n  Plus: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-3 h-3\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" /></svg>,\r\n  Warn: () => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" className=\"w-6 h-6\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" /></svg>,\r\n};\r\n\r\nconst MODELS = {\r\n  FLASH: 'gemini-3-flash-preview',\r\n  PRO: 'gemini-3-pro-preview'\r\n};\r\n\r\nconst CAMERA_TIPS = [\r\n  { text: \"å°è¯• 45 åº¦ä¿¯æ‹ä»¥è·å¾—æœ€ä½³ä½“ç§¯ä¼°ç®—\", icon: <Icons.Angle /> },\r\n  { text: \"ç¡®ä¿å…‰çº¿å……è¶³ï¼Œé¿å…é˜´å½±é®æŒ¡é£Ÿç‰©\", icon: <Icons.Sun /> },\r\n  { text: \"åœ¨æ—è¾¹æ”¾ä¸€æŠŠå‹ºå­æˆ–æ‰‹ä½œä¸ºå¤§å°å‚è€ƒ\", icon: <Icons.Sparkles /> },\r\n  { text: \"å°½é‡è®©æ‰€æœ‰é£Ÿç‰©éƒ½å¤„äºä¸­å¿ƒåŒºåŸŸ\", icon: <Icons.Camera /> }\r\n];\r\n\r\nconst HEALTH_TIPS = [\r\n  \"åƒé¥­é¡ºåºæœ‰è®²ç©¶ï¼šå…ˆåƒè”¬èœï¼Œå†åƒè›‹ç™½è´¨ï¼Œæœ€ååƒç¢³æ°´ï¼Œå¯ä»¥æœ‰æ•ˆå¹³ç¨³è¡€ç³–ã€‚\",\r\n  \"æ¯ä¸€å£é£Ÿç‰©å’€åš¼ 20-30 æ¬¡ï¼Œä¸ä»…åŠ©æ¶ˆåŒ–ï¼Œè¿˜èƒ½æå‡é¥±è…¹æ„Ÿï¼Œå‡å°‘è¿‡é‡è¿›é£Ÿã€‚\",\r\n  \"é¤å‰ 30 åˆ†é’Ÿå–ä¸€æ¯æ°´ï¼Œå¯ä»¥æ¿€æ´»æ–°é™ˆä»£è°¢ï¼Œå¹¶è‡ªç„¶å‡å°‘æ­£é¤æ‘„å…¥é‡ã€‚\",\r\n  \"æ—©é¤æ‘„å…¥ 30g è›‹ç™½è´¨ï¼ˆå¦‚é¸¡è›‹ã€ç‰›å¥¶ï¼‰ï¼Œå¯ä»¥é˜²æ­¢åˆé¤å‰çš„é¥¥é¥¿æ„Ÿå’Œå¯¹ç”œé£Ÿçš„æ¸´æœ›ã€‚\",\r\n  \"å†·æ‰çš„ç±³é¥­æˆ–åœŸè±†å«æœ‰æ›´å¤š'æŠ—æ€§æ·€ç²‰'ï¼Œçƒ­é‡å¸æ”¶ä¼šæ¯”çƒ­ç€åƒå‡å°‘å¾ˆå¤šã€‚\",\r\n  \"æ·±è‰²è”¬èœï¼ˆå¦‚è èœã€ç´«ç”˜è“ï¼‰é€šå¸¸æ¯”æµ…è‰²è”¬èœå«æœ‰æ›´å¤šçš„æŠ—æ°§åŒ–å‰‚å’Œå¾®é‡å…ƒç´ ã€‚\",\r\n  \"è¿›é£Ÿé«˜ç¢³æ°´é£Ÿç‰©å‰å–ä¸€ç‚¹é†‹æˆ–æŸ æª¬æ°´ï¼Œæœ‰åŠ©äºé™ä½èƒ°å²›ç´ ååº”ï¼Œå‡å°‘è„‚è‚ªå †ç§¯ã€‚\",\r\n  \"å°½é‡åœ¨ç¡å‰ 3 å°æ—¶åœæ­¢è¿›é£Ÿï¼Œè®©è‚ èƒƒæœ‰å……åˆ†çš„æ—¶é—´ä¼‘æ¯å’Œä¿®å¤ã€‚\"\r\n];\r\n\r\nconst compressImage = (base64Str: string, maxWidth = 800, quality = 0.6): Promise<string> => {\r\n  return new Promise((resolve) => {\r\n    const img = new Image();\r\n    img.src = base64Str;\r\n    img.onload = () => {\r\n      const canvas = document.createElement('canvas');\r\n      let width = img.width;\r\n      let height = img.height;\r\n      if (width > maxWidth) {\r\n        height = Math.round((height * maxWidth) / width);\r\n        width = maxWidth;\r\n      }\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      const ctx = canvas.getContext('2d');\r\n      ctx?.drawImage(img, 0, 0, width, height);\r\n      resolve(canvas.toDataURL('image/jpeg', quality));\r\n    };\r\n    img.onerror = () => resolve(base64Str);\r\n  });\r\n};\r\n\r\nexport default function FoodTrackerPage() {\r\n  const [state, setState] = useState<AppState>(AppState.IDLE);\r\n  const [selectedModel, setSelectedModel] = useState(MODELS.FLASH);\r\n  const [history, setHistory] = useState<FoodScan[]>([]);\r\n  const [staples, setStaples] = useState<StapleMeal[]>([]);\r\n  const [criticalSamples, setCriticalSamples] = useState<CriticalSample[]>([]);\r\n  \r\n  const [currentScan, setCurrentScan] = useState<FoodScan | null>(null);\r\n  const [expandedItemId, setExpandedItemId] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isConfirming, setIsConfirming] = useState(false);\r\n  const [additionalContext, setAdditionalContext] = useState('');\r\n  const [tempImageUrl, setTempImageUrl] = useState<string | null>(null);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [currentTipIndex, setCurrentTipIndex] = useState(0);\r\n  const [currentHealthTip, setCurrentHealthTip] = useState(0);\r\n  \r\n  const [isSavingStaple, setIsSavingStaple] = useState(false);\r\n  const [stapleNameInput, setStapleNameInput] = useState('');\r\n  const [showStapleSuccess, setShowStapleSuccess] = useState(false);\r\n  const [capturedCriticals, setCapturedCriticals] = useState<number>(0);\r\n  const [criticalToastMessage, setCriticalToastMessage] = useState<string>('');\r\n  \r\n  const [hasSavedCritical, setHasSavedCritical] = useState(false);\r\n  const [manualMarkError, setManualMarkError] = useState<string | null>(null);\r\n\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const savedHistory = localStorage.getItem('nutrilens_history_v4');\r\n      if (savedHistory) setHistory(JSON.parse(savedHistory));\r\n      \r\n      const savedStaples = localStorage.getItem('nutrilens_staples_v1');\r\n      if (savedStaples) setStaples(JSON.parse(savedStaples));\r\n\r\n      const savedCriticals = localStorage.getItem('nutrilens_critical_samples_v1');\r\n      if (savedCriticals) setCriticalSamples(JSON.parse(savedCriticals));\r\n    } catch (e) {\r\n      console.error(\"Failed to load history\", e);\r\n      localStorage.removeItem('nutrilens_history_v4');\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let interval: any;\r\n    if (state === AppState.ANALYZING) {\r\n      interval = setInterval(() => {\r\n         setCurrentHealthTip(prev => (prev + 1) % HEALTH_TIPS.length);\r\n      }, 3000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [state]);\r\n\r\n  const safeLocalStorageSet = (key: string, value: any, setter: (val: any) => void) => {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n      setter(value);\r\n    } catch (e: any) {\r\n      if (e.name === 'QuotaExceededError' || e.code === 22) {\r\n        if (Array.isArray(value) && value.length > 1) {\r\n           const trimmedValue = value.slice(0, Math.floor(value.length * 0.8));\r\n           safeLocalStorageSet(key, trimmedValue, setter);\r\n        } else {\r\n           setError(\"æ‰‹æœºå­˜å‚¨ç©ºé—´å·²æ»¡ï¼Œæ— æ³•ä¿å­˜æ–°è®°å½•ï¼Œè¯·æ¸…ç†å†å²æ•°æ®ã€‚\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const saveToHistory = (scan: FoodScan) => {\r\n    safeLocalStorageSet('nutrilens_history_v4', [scan, ...history].slice(0, 50), setHistory);\r\n  };\r\n\r\n  const processCriticalSamples = (scan: FoodScan, isManual: boolean) => {\r\n    if (hasSavedCritical) return;\r\n    const newCriticals: CriticalSample[] = [];\r\n    const threshold = isManual ? 0 : 0.3;\r\n    \r\n    scan.items.forEach(item => {\r\n      if (item.originalWeightGrams && item.originalWeightGrams > 0) {\r\n         const diff = item.estimatedWeightGrams - item.originalWeightGrams;\r\n         const percent = (diff / item.originalWeightGrams);\r\n         if (Math.abs(percent) > threshold && Math.abs(diff) > 1) {\r\n            newCriticals.push({\r\n               id: Date.now() + Math.random().toString(),\r\n               timestamp: Date.now(),\r\n               imageUrl: scan.imageUrl,\r\n               foodName: item.name,\r\n               aiWeight: item.originalWeightGrams,\r\n               userWeight: item.estimatedWeightGrams,\r\n               deviationPercent: Math.round(percent * 100)\r\n            });\r\n         }\r\n      }\r\n    });\r\n\r\n    if (newCriticals.length > 0) {\r\n       const updatedCriticals = [...newCriticals, ...criticalSamples].slice(0, 50);\r\n       safeLocalStorageSet('nutrilens_critical_samples_v1', updatedCriticals, setCriticalSamples);\r\n       setCriticalToastMessage(isManual ? `å·²æ‰‹åŠ¨å½’æ¡£ ${newCriticals.length} ä¸ªæ ·æœ¬` : `å·²è‡ªåŠ¨å½’æ¡£ ${newCriticals.length} ä¸ªå¤§åå·®æ ·æœ¬`);\r\n       setCapturedCriticals(newCriticals.length);\r\n       setTimeout(() => setCapturedCriticals(0), 4000);\r\n       setHasSavedCritical(true);\r\n       setManualMarkError(null);\r\n    } else if (isManual) {\r\n       setManualMarkError(\"è¯·å…ˆä¿®æ”¹ä¸Šæ–¹çš„é‡é‡æ•°å€¼ï¼Œä»¥ä¾¿æˆ‘ä»¬è®°å½•åå·®ã€‚\");\r\n       setTimeout(() => setManualMarkError(null), 3500);\r\n    }\r\n  };\r\n\r\n  const manualSaveCritical = () => {\r\n    if (currentScan) processCriticalSamples(currentScan, true);\r\n  };\r\n\r\n  const confirmSaveStaple = () => {\r\n    if (!currentScan || !stapleNameInput.trim()) return;\r\n    const newStaple: StapleMeal = {\r\n      id: Date.now().toString(),\r\n      name: stapleNameInput.trim(),\r\n      imageUrl: currentScan.imageUrl,\r\n      items: currentScan.items.map(({ id, ...rest }) => rest),\r\n      totalCalories: currentScan.items.reduce((acc, item) => acc + ((item.nutrients?.calories || 0) * (item.consumedPercentage / 100)), 0)\r\n    };\r\n    safeLocalStorageSet('nutrilens_staples_v1', [newStaple, ...staples].slice(0, 20), setStaples);\r\n    setIsSavingStaple(false);\r\n    setStapleNameInput('');\r\n    setShowStapleSuccess(true);\r\n    setTimeout(() => setShowStapleSuccess(false), 3000);\r\n  };\r\n\r\n  const logStaple = (staple: StapleMeal) => {\r\n    const newScan: FoodScan = {\r\n      id: Date.now().toString(),\r\n      timestamp: Date.now(),\r\n      imageUrl: staple.imageUrl,\r\n      description: `å¿«é€Ÿå¤ç”¨: ${staple.name}`,\r\n      insight: `å·²å¿«é€Ÿå¤ç”¨å¸¸é¤â€œ${staple.name}â€ã€‚æ•°æ®å·²æ ¹æ®æ‚¨çš„æ¨¡ç‰ˆè‡ªåŠ¨å¡«å……ã€‚`,\r\n      globalScale: 100,\r\n      items: staple.items.map((it, idx) => ({\r\n        ...it,\r\n        id: `item-${idx}-${Date.now()}`,\r\n        consumedPercentage: 100\r\n      }))\r\n    };\r\n    setCurrentScan(newScan);\r\n    saveToHistory(newScan);\r\n    setState(AppState.RESULT);\r\n  };\r\n\r\n  const finishSession = () => {\r\n    if (currentScan) processCriticalSamples(currentScan, false);\r\n    reset();\r\n  };\r\n\r\n  const startCamera = async () => {\r\n    try {\r\n      setError(null);\r\n      setState(AppState.CAMERA);\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });\r\n      if (videoRef.current) videoRef.current.srcObject = stream;\r\n    } catch (err) {\r\n      setError('æ— æ³•è®¿é—®æ‘„åƒå¤´');\r\n      setState(AppState.IDLE);\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (videoRef.current?.srcObject) (videoRef.current.srcObject as MediaStream).getTracks().forEach(t => t.stop());\r\n  };\r\n\r\n  const captureImage = async () => {\r\n    if (!videoRef.current || !canvasRef.current) return;\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 800;\r\n    canvas.height = (videoRef.current.videoHeight / videoRef.current.videoWidth) * 800;\r\n    canvas.getContext('2d')?.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n    const base64 = canvas.toDataURL('image/jpeg', 0.6);\r\n    stopCamera();\r\n    prepareAnalysis(base64);\r\n  };\r\n\r\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = async (ev) => {\r\n        const compressed = await compressImage(ev.target?.result as string);\r\n        prepareAnalysis(compressed);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const prepareAnalysis = (imageUrl: string) => {\r\n    setTempImageUrl(imageUrl);\r\n    setIsConfirming(true);\r\n    setState(AppState.IDLE);\r\n    setHasSavedCritical(false);\r\n    setManualMarkError(null);\r\n  };\r\n\r\n  const runAnalysis = async () => {\r\n    if (!tempImageUrl) return;\r\n    setIsLoading(true);\r\n    setIsConfirming(false);\r\n    setState(AppState.ANALYZING);\r\n    try {\r\n      const result = await analyzeFoodImage(tempImageUrl, additionalContext, selectedModel);\r\n      const newScan: FoodScan = {\r\n        id: Date.now().toString(),\r\n        timestamp: Date.now(),\r\n        imageUrl: tempImageUrl,\r\n        description: result.description,\r\n        insight: result.insight,\r\n        globalScale: 100,\r\n        items: result.items.map((it, idx) => ({\r\n          ...it,\r\n          id: `item-${idx}-${Date.now()}`,\r\n          consumedPercentage: 100\r\n        }))\r\n      };\r\n      setCurrentScan(newScan);\r\n      saveToHistory(newScan);\r\n      setState(AppState.RESULT);\r\n    } catch (err: any) {\r\n      setError(err.message || 'åˆ†æå¤±è´¥');\r\n      setState(AppState.IDLE);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setAdditionalContext('');\r\n      setTempImageUrl(null);\r\n    }\r\n  };\r\n\r\n  const startVoiceInput = () => {\r\n    if (!SpeechRecognition) return alert(\"ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«\");\r\n    const recognition = new SpeechRecognition();\r\n    recognition.lang = 'zh-CN'; \r\n    recognition.onstart = () => setIsListening(true);\r\n    recognition.onend = () => setIsListening(false);\r\n    recognition.onresult = (event: any) => setAdditionalContext(prev => (prev ? prev + ' ' : '') + event.results[0][0].transcript);\r\n    recognition.start();\r\n  };\r\n\r\n  const updateItemScale = (itemId: string, percentage: number) => {\r\n    if (!currentScan) return;\r\n    const updatedItems = currentScan.items.map(item => item.id === itemId ? { ...item, consumedPercentage: percentage } : item);\r\n    const totalOriginalWeight = updatedItems.reduce((sum, item) => sum + item.estimatedWeightGrams, 0);\r\n    const totalConsumedWeight = updatedItems.reduce((sum, item) => sum + (item.estimatedWeightGrams * (item.consumedPercentage / 100)), 0);\r\n    setCurrentScan({ ...currentScan, items: updatedItems, globalScale: totalOriginalWeight > 0 ? Math.round((totalConsumedWeight / totalOriginalWeight) * 100) : percentage });\r\n  };\r\n\r\n  const renameItem = (itemId: string, newName: string) => {\r\n    if (!currentScan) return;\r\n    setCurrentScan({ ...currentScan, items: currentScan.items.map(item => item.id === itemId ? { ...item, name: newName } : item) });\r\n  };\r\n\r\n  const updateItemWeight = (itemId: string, newWeight: number) => {\r\n    if (!currentScan || isNaN(newWeight)) return;\r\n    setCurrentScan({ ...currentScan, items: currentScan.items.map(item => item.id === itemId ? { ...item, estimatedWeightGrams: newWeight } : item) });\r\n  };\r\n  \r\n  const nudgeItemWeight = (itemId: string, factor: number) => {\r\n    if (!currentScan) return;\r\n    const item = currentScan.items.find(i => i.id === itemId);\r\n    if (item) updateItemWeight(itemId, Math.max(1, Math.round(item.estimatedWeightGrams * factor)));\r\n  };\r\n\r\n  const totals = useMemo(() => {\r\n    if (!currentScan) return { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0, sugar: 0, weight: 0 };\r\n    return currentScan.items.reduce((acc, item) => {\r\n      const factor = (item.consumedPercentage || 0) / 100;\r\n      const n = (item.nutrients || {}) as any;\r\n      return {\r\n        calories: acc.calories + ((n.calories || 0) * factor),\r\n        protein: acc.protein + ((n.protein || 0) * factor),\r\n        carbs: acc.carbs + ((n.carbs || 0) * factor),\r\n        fat: acc.fat + ((n.fat || 0) * factor),\r\n        fiber: acc.fiber + ((n.fiber || 0) * factor),\r\n        sugar: acc.sugar + ((n.sugar || 0) * factor),\r\n        weight: acc.weight + ((item.estimatedWeightGrams || 0) * factor)\r\n      };\r\n    }, { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0, sugar: 0, weight: 0 });\r\n  }, [currentScan]);\r\n\r\n  const updateWeightByTotal = (newTotal: number) => {\r\n    if (!currentScan || isNaN(newTotal) || newTotal <= 0) return;\r\n    const currentTotal = currentScan.items.reduce((sum, item) => sum + item.estimatedWeightGrams, 0);\r\n    if (currentTotal === 0) return;\r\n    const ratio = newTotal / currentTotal;\r\n    setCurrentScan({ ...currentScan, items: currentScan.items.map(item => ({ ...item, estimatedWeightGrams: Math.round(item.estimatedWeightGrams * ratio) })) });\r\n  };\r\n\r\n  const reset = () => {\r\n    stopCamera();\r\n    setCurrentScan(null);\r\n    setState(AppState.IDLE);\r\n    setIsConfirming(false);\r\n    setIsSavingStaple(false);\r\n    setError(null);\r\n    setExpandedItemId(null);\r\n    setHasSavedCritical(false);\r\n    setManualMarkError(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 text-gray-900 pb-20\">\r\n      <input type=\"file\" ref={fileInputRef} onChange={handleFileUpload} accept=\"image/*\" className=\"hidden\" />\r\n      \r\n      <header className=\"fixed top-0 inset-x-0 bg-white/80 backdrop-blur-md z-40 px-6 py-4 flex items-center justify-between border-b border-gray-100 shadow-sm\">\r\n        <h1 className=\"text-xl font-extrabold bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent\">NutriLens æ™ºèƒ½é£Ÿæ¢</h1>\r\n        <div className=\"flex items-center gap-4\">\r\n          {(state !== AppState.IDLE || isConfirming) && <button onClick={reset} className=\"text-gray-400 hover:text-gray-600 p-2\"><Icons.XCircle /></button>}\r\n        </div>\r\n      </header>\r\n\r\n      {capturedCriticals > 0 && (\r\n         <div className=\"fixed top-20 left-1/2 -translate-x-1/2 z-50 bg-red-500 text-white px-6 py-3 rounded-full shadow-xl flex items-center gap-2 animate-in slide-in-from-top-4 whitespace-nowrap\">\r\n            <Icons.Warn />\r\n            <span className=\"text-sm font-bold\">{criticalToastMessage}</span>\r\n         </div>\r\n      )}\r\n\r\n      <main className=\"pt-24 px-4 max-w-lg mx-auto\">\r\n        {state === AppState.IDLE && !isConfirming && (\r\n          <div className=\"space-y-8 py-6 animate-in fade-in\">\r\n            {error && <div className=\"bg-red-50 border border-red-100 text-red-500 px-4 py-3 rounded-2xl flex items-center gap-3 text-sm font-bold animate-in slide-in-from-top-2\"><Icons.Warn />{error}</div>}\r\n            \r\n            <div className=\"bg-white p-1 rounded-2xl flex items-center shadow-sm border border-gray-100 mx-auto w-fit\">\r\n              <button onClick={() => setSelectedModel(MODELS.FLASH)} className={`px-4 py-2 rounded-xl text-xs font-black transition-all ${selectedModel === MODELS.FLASH ? 'bg-gray-900 text-white' : 'text-gray-400 hover:text-gray-600'}`}>å¿«é€Ÿç‰ˆ</button>\r\n              <button onClick={() => setSelectedModel(MODELS.PRO)} className={`px-4 py-2 rounded-xl text-xs font-black transition-all ${selectedModel === MODELS.PRO ? 'bg-green-600 text-white' : 'text-gray-400 hover:text-gray-600'}`}>ç²¾ç»†ç‰ˆ</button>\r\n            </div>\r\n\r\n            <div className=\"text-center space-y-2\">\r\n              <h2 className=\"text-4xl font-black text-gray-800 tracking-tight\">æ™ºèƒ½è¯†é¤ã€‚</h2>\r\n              <p className=\"text-gray-500 font-medium px-4\">å£è¢‹é‡Œçš„ AI é£Ÿç‰©ç§¤ï¼Œç²¾å‡†åˆ†ææ¯ä¸€å£è¥å…»ã€‚</p>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-1 gap-6\">\r\n              <button onClick={startCamera} className=\"w-full bg-green-600 text-white rounded-[2.5rem] p-8 flex flex-col items-center gap-3 shadow-2xl shadow-green-100 transition-transform active:scale-95 group relative overflow-hidden\">\r\n                <div className=\"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\r\n                <div className=\"p-4 bg-white/20 rounded-full\"><Icons.Camera /></div>\r\n                <span className=\"text-xl font-bold\">ç«‹å³æ‹ç…§è¯†åˆ«</span>\r\n              </button>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between px-1\">\r\n                  <h3 className=\"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2\">æˆ‘çš„å¸¸ç”¨é¤é£Ÿ <Icons.Heart fill=\"currentColor\" /></h3>\r\n                  {staples.length > 0 && <span className=\"text-[10px] text-green-600 font-bold\">å·¦å³æ»‘åŠ¨å¿«é€Ÿè®°å½•</span>}\r\n                </div>\r\n                <div className=\"flex gap-4 overflow-x-auto pb-4 no-scrollbar -mx-4 px-4\">\r\n                  {staples.length > 0 ? staples.map(staple => (\r\n                      <button key={staple.id} onClick={() => logStaple(staple)} className=\"flex-shrink-0 w-28 space-y-2 text-left group\">\r\n                        <div className=\"relative aspect-square rounded-[1.5rem] overflow-hidden border-2 border-transparent group-hover:border-green-500 shadow-sm transition-all group-active:scale-90\">\r\n                          <img src={staple.imageUrl} className=\"w-full h-full object-cover\" />\r\n                          <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent\"></div>\r\n                          <div className=\"absolute bottom-2 left-2 right-2 text-[10px] font-black text-white truncate\">{staple.name}</div>\r\n                        </div>\r\n                      </button>\r\n                    )) : (\r\n                    <div className=\"w-full bg-gray-100/50 border-2 border-dashed border-gray-200 rounded-[2rem] p-6 flex flex-col items-center justify-center text-center space-y-2 text-gray-400 italic\">\r\n                      <div className=\"p-3 bg-white rounded-full text-gray-300\"><Icons.Heart /></div>\r\n                      <p className=\"text-xs font-medium\">è¯†åˆ«åç‚¹å‡»çˆ±å¿ƒä¿å­˜å¸¸é¤<br/>ä¸‹æ¬¡åƒé¥­ä¸€é”®å¤ç”¨ï¼Œæ— éœ€é‡æ‹</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <button onClick={() => fileInputRef.current?.click()} className=\"bg-white border border-gray-100 rounded-[1.5rem] p-4 flex flex-col items-center gap-2 shadow-sm active:scale-95 transition-transform\">\r\n                  <div className=\"p-2 bg-gray-50 rounded-full text-gray-400\"><Icons.Upload /></div>\r\n                  <span className=\"text-xs font-bold text-gray-600\">ä»ç›¸å†Œä¸Šä¼ </span>\r\n                </button>\r\n                <button onClick={() => setState(AppState.HISTORY)} className=\"bg-white border border-gray-100 rounded-[1.5rem] p-4 flex flex-col items-center gap-2 shadow-sm active:scale-95 transition-transform\">\r\n                  <div className=\"p-2 bg-gray-50 rounded-full text-gray-400\"><Icons.History /></div>\r\n                  <span className=\"text-xs font-bold text-gray-600\">æŸ¥çœ‹å†å²</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {isConfirming && tempImageUrl && (\r\n          <div className=\"animate-in slide-in-from-bottom-10 space-y-6 pb-32\">\r\n            <div className=\"relative rounded-3xl overflow-hidden shadow-xl\">\r\n              <img src={tempImageUrl} className=\"w-full aspect-video object-cover\" />\r\n              <div className=\"absolute top-4 right-4 bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-full text-[10px] font-black text-white uppercase tracking-widest\">{selectedModel === MODELS.PRO ? 'ç²¾ç»†æ¨¡å¼' : 'å¿«é€Ÿæ¨¡å¼'}</div>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center gap-2\"><div className=\"p-2 bg-blue-100 text-blue-600 rounded-lg\"><Icons.Sparkles /></div><h3 className=\"text-xl font-black text-gray-800\">è¡¥å……ç»†èŠ‚</h3></div>\r\n              <p className=\"text-sm text-gray-500 leading-relaxed\">æä¾›æ›´å¤šä¸Šä¸‹æ–‡èƒ½æ˜¾è‘—æé«˜è¯†åˆ«å‡†ç¡®ç‡ï¼ˆå¦‚ï¼šè¿™æ˜¯æˆ‘çš„ 500ml æ ‡å‡†ä¾¿å½“ç›’ï¼‰ã€‚</p>\r\n              <div className=\"relative\">\r\n                <textarea value={additionalContext} onChange={(e) => setAdditionalContext(e.target.value)} placeholder=\"ä¾‹å¦‚ï¼šè¿™æ˜¯å­¦æ ¡é£Ÿå ‚çš„å¤§ä»½ï¼Œæˆ–è€…é¢å¤–åŠ äº†è¾£æ²¹...\" className=\"w-full bg-white border border-gray-200 rounded-2xl p-4 pr-12 min-h-[120px] text-gray-700 focus:ring-2 focus:ring-green-500 outline-none transition-shadow text-base\" />\r\n                <button onClick={startVoiceInput} className={`absolute right-3 bottom-3 p-3 rounded-full transition-all ${isListening ? 'bg-red-500 text-white animate-pulse shadow-lg shadow-red-100' : 'bg-gray-50 text-gray-400 hover:text-green-600'}`}><Icons.Microphone /></button>\r\n              </div>\r\n              <button onClick={runAnalysis} className=\"w-full bg-gray-900 text-white rounded-2xl py-5 font-bold shadow-2xl active:scale-95 transition-all text-lg\">{isLoading ? 'æ­£åœ¨æ·±åº¦åˆ†æ...' : 'ç¡®è®¤å¹¶å¼€å§‹åˆ†æ'}</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {state === AppState.CAMERA && (\r\n          <div className=\"fixed inset-0 bg-black z-50 flex flex-col\">\r\n            <video ref={videoRef} autoPlay playsInline className=\"flex-1 object-cover\" />\r\n            <div className=\"absolute inset-0 pointer-events-none flex items-center justify-center\">\r\n              <div className=\"w-72 h-72 border-2 border-white/20 rounded-[3rem] relative\">\r\n                <div className=\"absolute -top-1 -left-1 w-10 h-10 border-t-4 border-l-4 border-green-500 rounded-tl-[1.5rem]\"></div>\r\n                <div className=\"absolute -top-1 -right-1 w-10 h-10 border-t-4 border-r-4 border-green-500 rounded-tr-[1.5rem]\"></div>\r\n                <div className=\"absolute -bottom-1 -left-1 w-10 h-10 border-b-4 border-l-4 border-green-500 rounded-bl-[1.5rem]\"></div>\r\n                <div className=\"absolute -bottom-1 -right-1 w-10 h-10 border-b-4 border-r-4 border-green-500 rounded-br-[1.5rem]\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"absolute top-20 inset-x-4\"><div className=\"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex items-center gap-3 text-white\"><div className=\"text-green-400 shrink-0\">{CAMERA_TIPS[currentTipIndex].icon}</div><p className=\"text-sm font-medium\">{CAMERA_TIPS[currentTipIndex].text}</p></div></div>\r\n            <div className=\"absolute bottom-12 inset-x-0 flex items-center justify-center gap-8 px-10\">\r\n              <button onClick={reset} className=\"p-4 bg-white/10 backdrop-blur-md rounded-full text-white active:scale-90 transition-transform\"><Icons.ArrowLeft /></button>\r\n              <div className=\"relative\"><button onClick={captureImage} className=\"w-20 h-20 bg-white rounded-full border-8 border-white/30 active:scale-90 transition-transform flex items-center justify-center relative z-10\" /><div className=\"absolute -inset-2 bg-green-500/20 rounded-full animate-ping pointer-events-none\"></div></div>\r\n              <button onClick={() => fileInputRef.current?.click()} className=\"p-4 bg-white/10 backdrop-blur-md rounded-full text-white active:scale-90 transition-transform\"><Icons.Upload /></button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {state === AppState.ANALYZING && (\r\n          <div className=\"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center text-center p-8 space-y-6\">\r\n            <div className=\"w-24 h-24 relative\"><div className=\"absolute inset-0 border-4 border-green-100 rounded-full\"></div><div className=\"absolute inset-0 border-4 border-green-600 rounded-full border-t-transparent animate-spin\"></div><div className=\"absolute inset-0 flex items-center justify-center text-green-600\"><Icons.Sparkles /></div></div>\r\n            <div className=\"space-y-2\"><h3 className=\"text-2xl font-black text-gray-800 tracking-tight\">AI è§†è§‰æ‰«æä¸­...</h3><p className=\"text-green-600 text-[10px] font-black uppercase tracking-[0.2em] mb-4\">æ­£åœ¨é€šè¿‡ {selectedModel === MODELS.PRO ? 'ç²¾ç»†ç‰ˆæ¨¡å‹' : 'å¿«é€Ÿç‰ˆæ¨¡å‹'} åˆ†æ</p>\r\n               <div className=\"bg-green-50/50 p-4 rounded-2xl max-w-[280px] mx-auto animate-in fade-in slide-in-from-bottom-2\"><p className=\"text-green-800 text-xs font-bold mb-1\">ğŸ’¡ å¥åº·å†·çŸ¥è¯†</p><p className=\"text-green-600 text-sm font-medium leading-relaxed\">{HEALTH_TIPS[currentHealthTip]}</p></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {state === AppState.RESULT && currentScan && (\r\n          <div className=\"animate-in slide-in-from-bottom-10 space-y-8 pb-32\">\r\n            <div className=\"relative rounded-[2.5rem] overflow-hidden shadow-2xl border border-white\">\r\n              <img src={currentScan.imageUrl} className=\"w-full aspect-square object-cover\" />\r\n              <div className=\"absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-md p-4 rounded-[1.5rem] shadow-lg border border-white/50\"><div className=\"flex items-center gap-2 text-green-600 mb-1\"><Icons.Sparkles /><span className=\"text-[10px] font-black uppercase tracking-widest\">AI å¥åº·é€è§†</span></div><p className=\"text-xs text-gray-700 font-semibold leading-relaxed\">\"{currentScan.insight}\"</p></div>\r\n              <button onClick={() => setIsSavingStaple(true)} className={`absolute top-4 right-4 p-4 rounded-full backdrop-blur-md transition-all transform hover:scale-110 active:scale-90 shadow-lg ${showStapleSuccess ? 'bg-green-500 text-white' : 'bg-black/30 text-white'}`}>{showStapleSuccess ? <Icons.Check /> : <Icons.Heart fill={staples.some(s => s.imageUrl === currentScan.imageUrl) ? \"currentColor\" : \"none\"} />}</button>\r\n            </div>\r\n\r\n            {showStapleSuccess && <div className=\"bg-green-600 text-white px-5 py-4 rounded-2xl text-xs font-black animate-in slide-in-from-top-4 flex items-center gap-3 shadow-xl shadow-green-100\"><Icons.Check /> å·²æˆåŠŸä¿å­˜åˆ°å¸¸é¤æ¨¡ç‰ˆï¼Œä¸‹æ¬¡å¯åœ¨é¦–é¡µå¿«é€Ÿå¤ç”¨ã€‚</div>}\r\n\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between px-1\"><h2 className=\"text-2xl font-black text-gray-800 tracking-tight\">è¥å…»ç»Ÿè®¡</h2><div className=\"text-right\"><span className=\"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1\">æ€»é¢„ä¼°é‡é‡</span><div className=\"flex items-center gap-2 bg-green-50 px-4 py-1.5 rounded-full border border-green-100\"><input type=\"number\" value={Math.round(totals.weight)} onChange={(e) => updateWeightByTotal(parseInt(e.target.value))} className=\"bg-transparent text-lg font-black text-green-600 w-16 text-right focus:outline-none border-none p-0\" /><span className=\"text-green-600 font-bold text-sm\">å…‹</span><div className=\"text-green-300 ml-1\"><Icons.Angle /></div></div></div></div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <NutrientBadge label=\"çƒ­é‡\" value={totals.calories} unit=\"kcal\" color=\"bg-orange-500\" icon={<Icons.Calories />} />\r\n                <NutrientBadge label=\"è›‹ç™½è´¨\" value={totals.protein} unit=\"g\" color=\"bg-blue-600\" icon={<Icons.Protein />} />\r\n                <NutrientBadge label=\"æ€»ç¢³æ°´\" value={totals.carbs} unit=\"g\" color=\"bg-yellow-500\" icon={<Icons.Carbs />} />\r\n                <NutrientBadge label=\"æ€»è„‚è‚ª\" value={totals.fat} unit=\"g\" color=\"bg-red-500\" icon={<Icons.Fat />} />\r\n              </div>\r\n\r\n              <div className=\"space-y-4 pt-4\"><h3 className=\"text-xs font-black text-gray-400 uppercase tracking-widest px-1\">åŒ…å«æˆåˆ† ({currentScan.items.length})</h3>\r\n                <div className=\"space-y-3\">{currentScan.items.map((item) => {\r\n                    const isExpanded = expandedItemId === item.id;\r\n                    const factor = item.consumedPercentage / 100;\r\n                    const n = item.nutrients || { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0 };\r\n                    return (\r\n                      <div key={item.id} className=\"bg-white overflow-hidden rounded-[1.5rem] border border-gray-100 shadow-sm transition-all duration-300\">\r\n                        <div className=\"p-5 space-y-4\"><div className=\"flex items-start justify-between\"><div className=\"flex-1 pr-4\"><input value={item.name} onChange={(e) => renameItem(item.id, e.target.value)} className=\"font-black text-gray-800 leading-tight bg-transparent border-none focus:ring-0 p-0 w-full text-base\" />\r\n                              <div className=\"flex items-center gap-3 mt-2\"><div className=\"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-50 border border-gray-100 focus-within:border-green-300 focus-within:ring-2 focus-within:ring-green-100 transition-all\"><input type=\"number\" value={Math.round(item.estimatedWeightGrams)} onChange={(e) => updateItemWeight(item.id, parseInt(e.target.value))} className=\"w-10 bg-transparent font-bold text-gray-600 focus:outline-none border-none p-0 text-center\" /><span className=\"text-gray-400 font-medium text-xs\">g</span></div>\r\n                                <div className=\"flex items-center gap-1\"><button onClick={() => nudgeItemWeight(item.id, 0.9)} className=\"p-1.5 rounded-full bg-red-50 text-red-500 hover:bg-red-100 active:scale-90 transition-all\"><Icons.Minus /></button><button onClick={() => nudgeItemWeight(item.id, 1.1)} className=\"p-1.5 rounded-full bg-green-50 text-green-600 hover:bg-green-100 active:scale-90 transition-all\"><Icons.Plus /></button></div><span className=\"text-[10px] text-gray-300\">|</span><span className=\"text-xs text-gray-400\">æ‘„å…¥: <strong className=\"text-gray-700\">{Math.round(item.estimatedWeightGrams * factor)}g</strong></span></div></div>\r\n                            <div className=\"text-right flex flex-col items-end\"><span className=\"block text-green-600 font-black whitespace-nowrap\">{Math.round((n.calories || 0) * factor)} kcal</span><button onClick={() => setExpandedItemId(isExpanded ? null : item.id)} className=\"text-gray-300 hover:text-gray-500 p-1\">{isExpanded ? <Icons.ChevronUp /> : <Icons.ChevronDown />}</button></div></div>\r\n                          <div className=\"space-y-2\"><div className=\"flex justify-between text-[10px] font-black text-gray-400 uppercase\"><span>æ‘„å…¥æ¯”ä¾‹</span><span>{item.consumedPercentage}%</span></div><input type=\"range\" min=\"0\" max=\"100\" value={item.consumedPercentage} onChange={(e) => updateItemScale(item.id, parseInt(e.target.value))} className=\"w-full h-2 bg-gray-50 rounded-lg appearance-none cursor-pointer accent-green-500\" /></div></div>\r\n                        {isExpanded && (<div className=\"px-5 pb-5 pt-0 animate-in fade-in slide-in-from-top-1\"><div className=\"border-t border-gray-50 pt-4 grid grid-cols-2 gap-2\"><div className=\"bg-gray-50/50 p-2 rounded-xl flex justify-between items-center\"><span className=\"text-[10px] font-bold text-gray-400\">è›‹ç™½è´¨</span><span className=\"text-xs font-black\">{((n.protein || 0) * factor).toFixed(1)}g</span></div><div className=\"bg-gray-50/50 p-2 rounded-xl flex justify-between items-center\"><span className=\"text-[10px] font-bold text-gray-400\">ç¢³æ°´</span><span className=\"text-xs font-black\">{((n.carbs || 0) * factor).toFixed(1)}g</span></div><div className=\"bg-gray-50/50 p-2 rounded-xl flex justify-between items-center\"><span className=\"text-[10px] font-bold text-gray-400\">è„‚è‚ª</span><span className=\"text-xs font-black\">{((n.fat || 0) * factor).toFixed(1)}g</span></div><div className=\"bg-gray-50/50 p-2 rounded-xl flex justify-between items-center\"><span className=\"text-[10px] font-bold text-gray-400\">çº¤ç»´</span><span className=\"text-xs font-black\">{((n.fiber || 0) * factor).toFixed(1)}g</span></div></div></div>)}\r\n                      </div>\r\n                    );\r\n                  })}</div>\r\n              </div>\r\n              <div className=\"space-y-3 mt-4\"><button onClick={finishSession} className=\"w-full bg-gray-900 text-white rounded-[1.5rem] py-5 font-black shadow-xl active:scale-95 transition-all text-lg\">ç¡®è®¤è®°å½•å¹¶å®Œæˆ</button>\r\n                <div className=\"relative\">{manualMarkError && (<div className=\"absolute bottom-full left-0 right-0 mb-2 text-center animate-in slide-in-from-bottom-2 fade-in\"><span className=\"inline-block bg-red-600 text-white text-[10px] font-bold px-3 py-1.5 rounded-lg shadow-lg relative\">{manualMarkError}<div className=\"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-red-600\"></div></span></div>)}\r\n                   <button onClick={manualSaveCritical} disabled={hasSavedCritical} className={`w-full py-3 text-xs font-bold flex items-center justify-center gap-1 transition-all active:scale-95 ${hasSavedCritical ? 'text-green-500 bg-green-50 rounded-xl cursor-default' : 'text-red-400 hover:text-red-500 hover:bg-red-50 rounded-xl'}`}>{hasSavedCritical ? (<><Icons.Check /> å·²æ ‡è®°ä¸ºåå·®æ ·æœ¬</>) : (<><Icons.Warn /> è®¤ä¸º AI ä¼°ç®—åå·®å¤§ï¼Ÿç‚¹å‡»æ ‡è®°æ ·æœ¬</>)}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {isSavingStaple && (\r\n          <div className=\"fixed inset-0 z-[100] flex items-end justify-center px-4 pb-10 bg-black/60 backdrop-blur-sm animate-in fade-in\">\r\n             <div className=\"w-full max-w-sm bg-white rounded-[2.5rem] p-8 space-y-6 shadow-2xl animate-in slide-in-from-bottom-10\"><div className=\"space-y-2 text-center\"><div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\"><Icons.Heart fill=\"currentColor\" /></div><h3 className=\"text-2xl font-black text-gray-800\">å­˜ä¸ºå¸¸é¤æ¨¡ç‰ˆ</h3><p className=\"text-sm text-gray-500\">ä¸‹æ¬¡åƒåŒæ ·çš„é£Ÿç‰©ï¼Œä¸€é”®å¤ç”¨æ¨¡ç‰ˆæ¯”ä¾‹ï¼Œæ— éœ€å†æ¬¡æ‹æ‘„ã€‚</p></div>\r\n                <div className=\"space-y-2\"><label className=\"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1\">é¤é£Ÿåç§°</label><input autoFocus value={stapleNameInput} onChange={(e) => setStapleNameInput(e.target.value)} placeholder=\"ä¾‹å¦‚ï¼šå…¬å¸é£Ÿå ‚é¸¡è‚‰ä¸¸å¥—é¤...\" className=\"w-full bg-gray-50 border-none rounded-2xl p-5 text-lg font-bold text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" /></div>\r\n                <div className=\"grid grid-cols-2 gap-3 pt-2\"><button onClick={() => setIsSavingStaple(false)} className=\"py-4 rounded-2xl font-bold text-gray-400 hover:bg-gray-50\">å–æ¶ˆ</button><button onClick={confirmSaveStaple} className=\"py-4 bg-green-600 text-white rounded-2xl font-black shadow-lg shadow-green-100 active:scale-95 transition-transform\">ç¡®è®¤ä¿å­˜</button></div>\r\n             </div>\r\n          </div>\r\n        )}\r\n\r\n        {state === AppState.HISTORY && (\r\n          <div className=\"animate-in slide-in-from-bottom-10 space-y-6 pb-20\"><div className=\"flex items-center gap-4\"><button onClick={() => setState(AppState.IDLE)} className=\"p-3 bg-white rounded-full text-gray-400 shadow-sm\"><Icons.ArrowLeft /></button><h2 className=\"text-2xl font-black text-gray-800\">å†å²è®°å½•</h2></div>\r\n             <button onClick={() => setState(AppState.CRITICAL_SAMPLES)} className=\"w-full bg-red-50 border border-red-100 rounded-[1.5rem] p-4 flex items-center justify-between shadow-sm active:scale-95 transition-transform\"><div className=\"flex items-center gap-3\"><div className=\"p-2 bg-red-100 text-red-600 rounded-full\"><Icons.Warn /></div><div className=\"text-left\"><p className=\"text-sm font-bold text-red-800\">åå·®æ ·æœ¬åº“</p><p className=\"text-xs text-red-400\">å·²å½’æ¡£ {criticalSamples.length} ä¸ª AI åå·®æ¡ˆä¾‹</p></div></div><div className=\"text-red-300\"><Icons.ChevronDown /></div></button>\r\n             <div className=\"space-y-4\">{history.length > 0 ? history.map(h => (<div key={h.id} onClick={() => { setCurrentScan(h); setState(AppState.RESULT); }} className=\"bg-white rounded-[1.5rem] p-4 flex items-center gap-4 border border-gray-100 shadow-sm cursor-pointer hover:border-green-500 transition-colors\"><img src={h.imageUrl} className=\"w-16 h-16 rounded-xl object-cover\" /><div className=\"flex-1\"><p className=\"text-sm font-black text-gray-800 line-clamp-1\">{h.description}</p><p className=\"text-xs text-gray-400 mt-1\">{new Date(h.timestamp).toLocaleDateString()} â€¢ {Math.round(h.items.reduce((acc, i) => acc + (i.nutrients?.calories || 0), 0))} kcal</p></div></div>)) : (<div className=\"py-20 text-center space-y-2 text-gray-300 italic\"><Icons.History /><p>æš‚æ— è¯†åˆ«å†å²</p></div>)}</div>\r\n          </div>\r\n        )}\r\n\r\n        {state === AppState.CRITICAL_SAMPLES && (\r\n           <div className=\"animate-in slide-in-from-bottom-10 space-y-6 pb-20\"><div className=\"flex items-center gap-4\"><button onClick={() => setState(AppState.HISTORY)} className=\"p-3 bg-white rounded-full text-gray-400 shadow-sm\"><Icons.ArrowLeft /></button><h2 className=\"text-xl font-black text-gray-800\">AI åå·®æ ·æœ¬åº“</h2></div><p className=\"text-sm text-gray-500 px-1\">å½“æ‚¨å¯¹ AI çš„ä¼°ç®—ç»“æœä¿®æ­£è¶…è¿‡ 30% æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†è¯¥æ ·æœ¬ä¿å­˜è‡³æ­¤ï¼Œä»¥ä¾¿åç»­åˆ†æã€‚</p>\r\n             <div className=\"space-y-4\">{criticalSamples.length > 0 ? criticalSamples.map(sample => (<div key={sample.id} className=\"bg-white rounded-[1.5rem] p-4 border border-red-100 shadow-sm space-y-3\"><div className=\"flex gap-4\"><img src={sample.imageUrl} className=\"w-20 h-20 rounded-xl object-cover\" /><div className=\"flex-1 space-y-1\"><p className=\"text-sm font-black text-gray-800\">{sample.foodName}</p><p className=\"text-xs text-gray-400\">{new Date(sample.timestamp).toLocaleDateString()}</p><div className=\"inline-block px-2 py-1 bg-red-100 text-red-600 rounded-lg text-[10px] font-bold mt-1\">åå·® {sample.deviationPercent > 0 ? '+' : ''}{sample.deviationPercent}%</div></div></div><div className=\"bg-gray-50 rounded-xl p-3 flex justify-between items-center text-xs\"><div className=\"text-center\"><p className=\"text-gray-400 mb-1\">AI é¢„ä¼°</p><p className=\"font-black text-gray-800 text-lg\">{Math.round(sample.aiWeight)}g</p></div><div className=\"text-gray-300\">â”</div><div className=\"text-center\"><p className=\"text-gray-400 mb-1\">æ‚¨ä¿®æ­£ä¸º</p><p className=\"font-black text-green-600 text-lg\">{Math.round(sample.userWeight)}g</p></div></div></div>)) : (<div className=\"py-20 text-center space-y-2 text-gray-300 italic\"><Icons.Check /><p>æš‚æ— ä¸¥é‡åå·®æ ·æœ¬<br/>è¯´æ˜ AI æœ€è¿‘è¡¨ç°ä¸é”™ï¼</p></div>)}</div>\r\n           </div>\r\n        )}\r\n      </main>\r\n\r\n      <canvas ref={canvasRef} className=\"hidden\" />\r\n\r\n      {(state === AppState.IDLE || state === AppState.HISTORY || state === AppState.CRITICAL_SAMPLES) && (\r\n        <nav className=\"fixed bottom-8 inset-x-0 w-[85%] max-w-sm mx-auto bg-gray-900/90 backdrop-blur-xl border border-white/10 shadow-2xl rounded-[3rem] px-8 py-4 flex items-center justify-around z-40\">\r\n          <button onClick={() => setState(AppState.IDLE)} className={`p-2 transition-all ${state === AppState.IDLE ? 'text-green-500' : 'text-white/50'}`}><Icons.Sparkles /></button>\r\n          <button onClick={startCamera} className=\"w-16 h-16 bg-green-500 text-white rounded-full -mt-16 border-[6px] border-gray-900 shadow-xl flex items-center justify-center active:scale-90 transition-transform\"><Icons.Camera /></button>\r\n          <button onClick={() => setState(AppState.HISTORY)} className={`p-2 transition-all ${state === AppState.HISTORY || state === AppState.CRITICAL_SAMPLES ? 'text-green-500' : 'text-white/50'}`}><Icons.History /></button>\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}